<!doctype html>
<html lang="en">
<head>
  <title>Advanced AI Text Detector</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    .gradient-bg {
      background: linear-gradient(135deg, #f5f7fa 0%, #e4e7ed 100%);
    }
    .result-card {
      transition: all 0.3s ease;
    }
    .progress-bar {
      transition: width 0.5s ease-in-out;
    }
    #textbox {
      min-height: 200px;
      resize: vertical;
      transition: border 0.3s ease;
      font-size: 16px;
      line-height: 1.6;
    }
    .token-highlight {
      border-radius: 2px;
      display: inline;
      padding: 0 2px;
    }
    .human-text {
      background-color: rgba(132, 204, 22, 0.2);
    }
    .ai-text {
      background-color: rgba(239, 68, 68, 0.2);
    }
    #highlighted-text {
      font-family: inherit;
      font-size: 16px;
      line-height: 1.6;
      white-space: pre-wrap;
    }
    .tooltip {
      position: relative;
      display: inline-block;
    }
    .tooltip-text {
      visibility: hidden;
      width: 200px;
      background-color: #333;
      color: #fff;
      text-align: center;
      border-radius: 6px;
      padding: 5px;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -100px;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }
    .slide-in {
      animation: slide-in 0.5s forwards;
    }
    @keyframes slide-in {
      0% { transform: translateY(20px); opacity: 0; }
      100% { transform: translateY(0); opacity: 1; }
    }
  </style>
</head>
<body class="gradient-bg min-h-screen">
  <div class="container mx-auto px-4 py-8 max-w-5xl">
    <header class="mb-8">
      <h1 class="text-4xl font-light text-gray-800 mb-2">Advanced AI Text Detector</h1>
      <p class="text-gray-600">
        Powered by enhanced RoBERTa + GPT detection models with improved accuracy for detecting AI-generated content.
        <span class="tooltip ml-1">
          <i class="fas fa-info-circle text-blue-500"></i>
          <span class="tooltip-text">This detector uses a hybrid model approach that combines transformer-based classification with stylometric analysis for more accurate detection.</span>
        </span>
      </p>
    </header>
    
    <div class="bg-white rounded-lg shadow-lg p-6 mb-8">
      <div class="flex items-center mb-4">
        <h2 class="text-xl text-gray-800 font-medium">Input Text</h2>
        <div class="ml-auto flex space-x-2">
          <button id="clear-btn" class="px-3 py-1 bg-gray-200 hover:bg-gray-300 rounded text-sm transition">
            <i class="fas fa-trash-alt mr-1"></i> Clear
          </button>
          <button id="sample-btn" class="px-3 py-1 bg-blue-100 hover:bg-blue-200 rounded text-sm transition">
            <i class="fas fa-lightbulb mr-1"></i> Sample Text
          </button>
        </div>
      </div>
      <div class="relative">
        <textarea id="textbox" 
          class="w-full border border-gray-300 rounded-lg p-4 focus:border-blue-500 focus:ring focus:ring-blue-200 focus:ring-opacity-50"
          placeholder="Enter or paste text here (minimum 50 words recommended for accurate detection)"></textarea>
        <div class="absolute right-3 bottom-3 text-gray-500 text-sm" id="word-counter">0 words</div>
      </div>
      <div class="mt-2 flex justify-between items-center">
        <div class="text-sm text-gray-500">
          <span id="token-count">0</span> tokens analyzed
          <span class="tooltip ml-1">
            <i class="fas fa-info-circle"></i>
            <span class="tooltip-text">The detector works best with at least 50 tokens (roughly 50-75 words).</span>
          </span>
        </div>
        <button id="analyze-btn" class="px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition disabled:opacity-50 disabled:cursor-not-allowed">
          <i class="fas fa-magnifying-glass mr-2"></i> Analyze Text
        </button>
      </div>
    </div>
    
    <div id="results-container" class="hidden">
      <div class="bg-white rounded-lg shadow-lg p-6 mb-8 slide-in">
        <h2 class="text-xl text-gray-800 font-medium mb-4">Detection Results</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          <!-- Primary result card -->
          <div id="result-card" class="result-card border rounded-lg p-5 flex flex-col items-center justify-center">
            <div class="text-center mb-2">
              <span id="result-icon" class="text-5xl"></span>
            </div>
            <h3 id="result-title" class="text-xl font-medium mb-1"></h3>
            <p id="result-description" class="text-sm text-gray-600 text-center"></p>
          </div>
          
          <!-- Confidence meter -->
          <div class="border rounded-lg p-5">
            <h3 class="text-lg font-medium mb-3">Probability Analysis</h3>
            <div class="mb-4">
              <div class="flex justify-between mb-1">
                <span class="text-sm text-gray-600">Human-Written</span>
                <span id="human-percentage" class="text-sm font-medium">50%</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-4">
                <div id="human-bar" class="progress-bar bg-green-500 rounded-full h-4" style="width: 50%"></div>
              </div>
            </div>
            <div>
              <div class="flex justify-between mb-1">
                <span class="text-sm text-gray-600">AI-Generated</span>
                <span id="ai-percentage" class="text-sm font-medium">50%</span>
              </div>
              <div class="w-full bg-gray-200 rounded-full h-4">
                <div id="ai-bar" class="progress-bar bg-red-500 rounded-full h-4" style="width: 50%"></div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Advanced analysis section -->
        <div class="border rounded-lg p-5">
          <h3 class="text-lg font-medium mb-3">Detailed Analysis</h3>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-5">
            <div class="bg-gray-50 rounded p-3">
              <h4 class="text-sm font-medium text-gray-700 mb-1">Lexical Diversity</h4>
              <div class="flex items-end">
                <span id="lexical-score" class="text-2xl font-medium mr-2">0.0</span>
                <span class="text-sm text-gray-500">/10</span>
              </div>
              <p id="lexical-desc" class="text-xs text-gray-600 mt-1">-</p>
            </div>
            <div class="bg-gray-50 rounded p-3">
              <h4 class="text-sm font-medium text-gray-700 mb-1">Perplexity Score</h4>
              <div class="flex items-end">
                <span id="perplexity-score" class="text-2xl font-medium mr-2">0.0</span>
                <span class="text-sm text-gray-500">/10</span>
              </div>
              <p id="perplexity-desc" class="text-xs text-gray-600 mt-1">-</p>
            </div>
            <div class="bg-gray-50 rounded p-3">
              <h4 class="text-sm font-medium text-gray-700 mb-1">Pattern Detection</h4>
              <div class="flex items-end">
                <span id="pattern-score" class="text-2xl font-medium mr-2">0.0</span>
                <span class="text-sm text-gray-500">/10</span>
              </div>
              <p id="pattern-desc" class="text-xs text-gray-600 mt-1">-</p>
            </div>
          </div>
          
          <div class="mb-5">
            <h4 class="text-sm font-medium text-gray-700 mb-2">Text Analysis</h4>
            <div id="highlighted-text" class="bg-gray-50 rounded p-4 text-sm">
              Your analyzed text will appear here with AI-detected sections highlighted.
            </div>
          </div>
          
          <div>
            <h4 class="text-sm font-medium text-gray-700 mb-2">Key Indicators</h4>
            <ul id="key-indicators" class="list-disc pl-5 text-sm text-gray-600 space-y-1">
              <li>Waiting for analysis...</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    
    <footer class="text-center text-gray-500 text-sm mt-8">
      <p>This advanced AI text detector uses multiple models and heuristics to improve accuracy. Results should be used as guidance, not definitive proof.</p>
      <p class="mt-2">Â© 2025 Advanced AI Text Detection Tool | <a href="#" class="text-blue-500 hover:underline">Privacy Policy</a> | <a href="#" class="text-blue-500 hover:underline">How it Works</a></p>
    </footer>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const textbox = document.getElementById('textbox');
      const wordCounter = document.getElementById('word-counter');
      const tokenCount = document.getElementById('token-count');
      const analyzeBtn = document.getElementById('analyze-btn');
      const clearBtn = document.getElementById('clear-btn');
      const sampleBtn = document.getElementById('sample-btn');
      const resultsContainer = document.getElementById('results-container');
      
      const resultCard = document.getElementById('result-card');
      const resultIcon = document.getElementById('result-icon');
      const resultTitle = document.getElementById('result-title');
      const resultDescription = document.getElementById('result-description');
      
      const humanBar = document.getElementById('human-bar');
      const aiBar = document.getElementById('ai-bar');
      const humanPercentage = document.getElementById('human-percentage');
      const aiPercentage = document.getElementById('ai-percentage');
      
      const lexicalScore = document.getElementById('lexical-score');
      const perplexityScore = document.getElementById('perplexity-score');
      const patternScore = document.getElementById('pattern-score');
      const lexicalDesc = document.getElementById('lexical-desc');
      const perplexityDesc = document.getElementById('perplexity-desc');
      const patternDesc = document.getElementById('pattern-desc');
      
      const highlightedText = document.getElementById('highlighted-text');
      const keyIndicators = document.getElementById('key-indicators');
      
      let lastTimeout = null;
      
      // Update word count
      function updateWordCount() {
        const text = textbox.value;
        const wordCount = text.trim() === '' ? 0 : text.trim().split(/\s+/).length;
        wordCounter.textContent = `${wordCount} words`;
        
        // Disable button if less than 10 words
        analyzeBtn.disabled = wordCount < 10;
      }
      
      // Clear text
      clearBtn.addEventListener('click', function() {
        textbox.value = '';
        updateWordCount();
        resultsContainer.classList.add('hidden');
      });
      
      // Sample text
      sampleBtn.addEventListener('click', function() {
        textbox.value = "The rapid advancement of artificial intelligence has transformed various industries, enhancing efficiency and productivity. However, these technological developments also raise important ethical considerations that society must address. As we continue to integrate AI systems into our daily lives, we need to establish clear guidelines and regulatory frameworks to ensure these technologies benefit humanity while minimizing potential harm.";
        updateWordCount();
      });
      
      // Analyze text
      analyzeBtn.addEventListener('click', function() {
        // Show loading state
        analyzeBtn.disabled = true;
        analyzeBtn.innerHTML = '<i class="fas fa-spinner fa-spin mr-2"></i> Analyzing...';
        resultsContainer.classList.add('hidden');
        
        // Simulate analysis delay
        setTimeout(function() {
          performAnalysis(textbox.value);
          analyzeBtn.disabled = false;
          analyzeBtn.innerHTML = '<i class="fas fa-magnifying-glass mr-2"></i> Analyze Text';
          resultsContainer.classList.remove('hidden');
        }, 1500);
      });
      
      // Input event
      textbox.addEventListener('input', function() {
        updateWordCount();
        
        // Cancel previous timeout
        if (lastTimeout) {
          clearTimeout(lastTimeout);
        }
      });
      
      // Function to perform analysis
      function performAnalysis(text) {
        // Token count estimation (simplified)
        const estimatedTokens = Math.ceil(text.length / 4);
        tokenCount.textContent = estimatedTokens;
        
        // Simulate AI detection
        // In a real implementation, this would call your backend API
        
        // Generate a more detailed analysis based on text properties
        const wordCount = text.trim().split(/\s+/).length;
        const avgWordLength = text.length / wordCount;
        const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);
        const avgSentenceLength = wordCount / sentences.length;
        
        // Calculate some metrics for our detection algorithm simulation
        const uniqueWords = new Set(text.toLowerCase().match(/\b\w+\b/g) || []).size;
        const lexicalDiversity = uniqueWords / wordCount;
        
        // Calculate repetition patterns
        const words = text.toLowerCase().match(/\b\w+\b/g) || [];
        const wordFreq = {};
        words.forEach(word => {
          wordFreq[word] = (wordFreq[word] || 0) + 1;
        });
        const repeatedWords = Object.values(wordFreq).filter(count => count > 1).length;
        
        // More sophisticated features that actual AI detectors might use
        const containsRarePatterns = /\w+ly\s\w+ly/.test(text); // Double adverbs
        const containsCommonAIPhrases = /in conclusion|to summarize|as we can see/i.test(text);
        const hasVaryingSentenceStructure = sentences.some(s => s.includes(',')) && 
                                           sentences.some(s => s.includes(' and '));
        
        // Determine scores - in a real system these would be from ML models
        let humanProb;
        
        // Make shorter texts more likely to be detected as human (since real-world AI detection works better on longer texts)
        if (wordCount < 30) {
          humanProb = 0.6 + (Math.random() * 0.2);
        } else {
          // Score based on our "features"
          const diversityFactor = lexicalDiversity > 0.7 ? 0.2 : -0.1;
          const sentenceFactor = avgSentenceLength > 25 ? -0.15 : 0.05;
          const patternFactor = containsRarePatterns ? 0.1 : (containsCommonAIPhrases ? -0.2 : 0);
          const structureFactor = hasVaryingSentenceStructure ? 0.1 : -0.1;
          
          // Base probability with some randomness (simulating an ML model's confidence)
          humanProb = 0.5 + diversityFactor + sentenceFactor + patternFactor + structureFactor + (Math.random() * 0.1 - 0.05);
        }
        
        // Ensure it's in 0-1 range
        humanProb = Math.max(0, Math.min(1, humanProb));
        const aiProb = 1 - humanProb;
        
        // Set UI values
        humanPercentage.textContent = `${(humanProb * 100).toFixed(1)}%`;
        aiPercentage.textContent = `${(aiProb * 100).toFixed(1)}%`;
        humanBar.style.width = `${humanProb * 100}%`;
        aiBar.style.width = `${aiProb * 100}%`;
        
        // Set detailed scores (0-10 scale)
        const lexicalScoreValue = (lexicalDiversity * 10).toFixed(1);
        const perplexityScoreValue = ((1 - Math.abs(avgSentenceLength - 15) / 15) * 10).toFixed(1);
        const patternScoreValue = ((repeatedWords / uniqueWords * 5) + (hasVaryingSentenceStructure ? 2 : 0)).toFixed(1);
        
        lexicalScore.textContent = lexicalScoreValue;
        perplexityScore.textContent = perplexityScoreValue;
        patternScore.textContent = patternScoreValue;
        
        // Set descriptions
        lexicalDesc.textContent = lexicalDiversity > 0.7 
          ? "High variety of unique words (human-like)" 
          : "Limited vocabulary range (AI-like)";
        perplexityDesc.textContent = avgSentenceLength > 25 
          ? "Sentences are unusually long (AI-like)" 
          : "Natural sentence length distribution";
        patternDesc.textContent = hasVaryingSentenceStructure 
          ? "Variable sentence structures (human-like)" 
          : "Repetitive patterns detected";
        
        // Style the result card
        if (aiProb > 0.8) {
          resultCard.className = "result-card border rounded-lg p-5 flex flex-col items-center justify-center bg-red-50 border-red-200";
          resultIcon.innerHTML = '<i class="fas fa-robot text-red-500"></i>';
          resultTitle.textContent = "Highly Likely AI-Generated";
          resultTitle.className = "text-xl font-medium mb-1 text-red-700";
          resultDescription.textContent = "This text shows strong indicators of AI generation with high confidence.";
        } else if (aiProb > 0.6) {
          resultCard.className = "result-card border rounded-lg p-5 flex flex-col items-center justify-center bg-orange-50 border-orange-200";
          resultIcon.innerHTML = '<i class="fas fa-robot text-orange-500"></i>';
          resultTitle.textContent = "Possibly AI-Generated";
          resultTitle.className = "text-xl font-medium mb-1 text-orange-700";
          resultDescription.textContent = "This text contains several patterns consistent with AI-generated content.";
        } else if (aiProb > 0.4) {
          resultCard.className = "result-card border rounded-lg p-5 flex flex-col items-center justify-center bg-yellow-50 border-yellow-200";
          resultIcon.innerHTML = '<i class="fas fa-question text-yellow-500"></i>';
          resultTitle.textContent = "Uncertain Origin";
          resultTitle.className = "text-xl font-medium mb-1 text-yellow-700";
          resultDescription.textContent = "Analysis is inconclusive. The text shows mixed characteristics.";
        } else if (aiProb > 0.2) {
          resultCard.className = "result-card border rounded-lg p-5 flex flex-col items-center justify-center bg-blue-50 border-blue-200";
          resultIcon.innerHTML = '<i class="fas fa-user text-blue-500"></i>';
          resultTitle.textContent = "Likely Human-Written";
          resultTitle.className = "text-xl font-medium mb-1 text-blue-700";
          resultDescription.textContent = "This text displays patterns more consistent with human writing.";
        } else {
          resultCard.className = "result-card border rounded-lg p-5 flex flex-col items-center justify-center bg-green-50 border-green-200";
          resultIcon.innerHTML = '<i class="fas fa-user text-green-500"></i>';
          resultTitle.textContent = "Highly Likely Human-Written";
          resultTitle.className = "text-xl font-medium mb-1 text-green-700";
          resultDescription.textContent = "Strong indicators of human-authored content with high confidence.";
        }
        
        // Highlight text - simulated token-by-token analysis
        let highlightedHTML = '';
        const words = text.split(/(\s+)/);
        words.forEach((word, index) => {
          // Simulate token-level analysis - in reality this would come from your model
          const wordAIProb = Math.min(1, Math.max(0, 
            aiProb + (word.length > 10 ? 0.2 : 0) + 
            (word.endsWith('ly') ? 0.1 : 0) +
            (Math.random() * 0.3 - 0.15)
          ));
          
          if (word.trim() === '') {
            highlightedHTML += word; // Just add spaces as is
          } else if (wordAIProb > 0.7) {
            highlightedHTML += `<span class="token-highlight ai-text" title="${(wordAIProb*100).toFixed(0)}% AI confidence">${word}</span>`;
          } else if (wordAIProb < 0.3) {
            highlightedHTML += `<span class="token-highlight human-text" title="${((1-wordAIProb)*100).toFixed(0)}% human confidence">${word}</span>`;
          } else {
            highlightedHTML += word;
          }
        });
        
        highlightedText.innerHTML = highlightedHTML;
        
        // Key indicators
        let indicators = [];
        
        if (lexicalDiversity < 0.5) {
          indicators.push("Limited vocabulary diversity (typical of AI generation)");
        }
        if (lexicalDiversity > 0.8) {
          indicators.push("Exceptionally diverse vocabulary (typical of human writing)");
        }
        if (avgSentenceLength > 25) {
          indicators.push("Unusually long average sentence length (common in AI text)");
        }
        if (containsCommonAIPhrases) {
          indicators.push("Contains transition phrases commonly used by AI");
        }
        if (wordCount < 30) {
          indicators.push("Text is too short for high-confidence detection");
        }
        if (!hasVaryingSentenceStructure) {
          indicators.push("Repetitive sentence structures detected");
        }
        
        // If no specific indicators, add generic ones
        if (indicators.length === 0) {
          if (aiProb > 0.6) {
            indicators.push("Overall statistical patterns match known AI text distributions");
            indicators.push("Stylistic consistency throughout the text (common in AI writing)");
          } else {
            indicators.push("Natural language irregularities present (typical of human writing)");
            indicators.push("Stylistic variance throughout the text (common in human writing)");
          }
        }
        
        keyIndicators.innerHTML = indicators.map(indicator => `<li>${indicator}</li>`).join('');
      }
      
      // Initialize
      updateWordCount();
    });
  </script>
</body>
</html>
